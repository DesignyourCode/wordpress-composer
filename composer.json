{
    "name": "designyourcode/wp-install",
    "description": "Install WordPress with Composer.",
    "repositories": [
        {
            "type": "composer",
            "url": "http://wpackagist.org"
        }
    ],
    "require": {
        "php": ">=5.4",
        "ext-gd": "*",
        "composer/installers": "@stable",
        "wp-cli/wp-cli": "@stable",
        "wp-cli/php-cli-tools": "@stable",
        "johnpbloch/wordpress": "@stable",

        "wpackagist-plugin/amazon-web-services": "@stable",
        "wpackagist-plugin/amazon-s3-and-cloudfront": "@stable",
        "upstatement/timber-starter-theme": "dev-master"
    },
    "extra": {
        "wordpress-install-dir": "wp",
        "installer-paths": {
            "wp-content/plugins/{$name}": [
                "type:wordpress-plugin"
            ],
            "wp-content/themes/{$name}": [
                "type:wordpress-theme"
            ]
        }
    },
    "scripts": {
        "local": [
            "cp local-config.php.dist local-config.php"
        ],
        "compile": [
            "php bin/populate-config-from-env.php",
            "php bin/generate-salts.php",
            "wp core is-installed || php bin/install-site.php",
            "wp plugin activate timber-library || true",
            "wp plugin activate amazon-web-services || true",
            "wp plugin activate amazon-s3-and-cloudfront || true",
            "wp theme activate timber-starter-theme || true"
        ]
    }
}
